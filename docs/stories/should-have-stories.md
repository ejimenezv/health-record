# Should-Have User Stories (P1)

## Overview

This document contains the should-have user stories for MedRecord AI MVP. These features provide significant value but are not strictly required for the core workflow to function. They should be implemented if time permits after completing all Must-Have stories.

**Total Stories**: 2
**Priority Level**: P1 - Should-Have
**Estimated Points**: 8 points

---

## User Story US-008: Appointment Summary Generation

**As a** doctor
**I want to** have AI generate a brief summary of each appointment
**So that** I can quickly review past visits without reading the full record

### Description

After a medical record is complete, AI generates a concise 2-3 sentence summary of the appointment. This summary captures the key points: reason for visit, main findings/diagnosis, and primary actions taken. The summary is displayed prominently on the appointment card in the patient history, making it easy to scan past visits quickly.

### Acceptance Criteria

- [ ] Given a completed appointment record, when I click "Generate Summary", then AI creates a 2-3 sentence summary
- [ ] Given AI generates a summary, when the summary is ready, then it includes: reason for visit, diagnosis, and key actions/prescriptions
- [ ] Given a summary is generated, when viewing patient history, then the summary appears on the appointment card
- [ ] Given a generated summary, when I want to edit it, then I can modify the summary text
- [ ] Given a summary exists, when I view the appointment detail, then the summary is displayed at the top
- [ ] Given AI cannot generate a summary (API error), when an error occurs, then I see an error message and can retry
- [ ] Given no transcript or minimal record content, when I request summary, then I see a message that insufficient data exists
- [ ] Given a summary is generated, when the appointment is saved, then the summary persists with the record

### Priority

Should-Have (P1)

### Story Points

5

### Dependencies

- US-005: Manual Medical Record Entry (record must have content)
- US-007: AI Auto-Fill (typically used after AI processing)
- OpenAI GPT-4 or Anthropic Claude API (external dependency)

### Technical Notes

- Use structured prompts to ensure consistent summary format
- Summary should be generated from record fields, not raw transcript
- Store summary as separate field on medical record
- Consider generating summary automatically when appointment is marked complete
- Maximum summary length: 500 characters

### UI/UX Notes

- "Generate Summary" button on appointment page
- Summary displayed in a highlighted card/section
- Edit button to allow modifications
- Regenerate option if unsatisfied with result
- Loading state during AI processing

---

## User Story US-009: Export Medical Record to PDF

**As a** doctor
**I want to** export an appointment's medical record to PDF
**So that** I can print it for the patient or share it with other healthcare providers

### Description

The doctor needs to generate a professional PDF document containing the complete medical record for a specific appointment. The PDF includes patient demographics, appointment details, vital signs (if recorded), chief complaint, symptoms, diagnosis, prescriptions, and treatment plan. The document should be printable and suitable for sharing.

### Acceptance Criteria

- [ ] Given I am viewing a completed appointment, when I click "Export to PDF", then a PDF is generated
- [ ] Given a PDF is generated, when I view it, then it includes the patient's name, date of birth, and contact information
- [ ] Given a PDF is generated, when I view it, then it includes appointment date, type, and reason for visit
- [ ] Given vital signs were recorded, when I view the PDF, then they are included in the document
- [ ] Given symptoms were recorded, when I view the PDF, then all symptoms are listed with their details
- [ ] Given a diagnosis was entered, when I view the PDF, then it is prominently displayed
- [ ] Given prescriptions were added, when I view the PDF, then each prescription shows all details (medication, dosage, frequency, instructions)
- [ ] Given the PDF is generated, when I view it, then it has professional formatting suitable for printing
- [ ] Given the PDF is generated, when generation completes, then it downloads automatically or opens in new tab
- [ ] Given a PDF is generated, when I view it, then it includes a footer with generation date and "Generated by MedRecord AI"
- [ ] Given PDF generation fails, when an error occurs, then I see an error message and can retry

### Priority

Should-Have (P1)

### Story Points

3

### Dependencies

- US-005: Manual Medical Record Entry (record must have content to export)
- US-003: View Patient Medical History (need to access completed appointments)

### Technical Notes

- Use a PDF generation library (e.g., react-pdf, pdfkit, puppeteer)
- Generate PDF server-side for consistent formatting
- Include clinic/practice header if configured
- Consider template system for customization in future
- File naming: `[PatientName]_[AppointmentDate]_MedicalRecord.pdf`

### UI/UX Notes

- "Export PDF" button on appointment view page
- Loading indicator during PDF generation
- Download or open in new browser tab
- Consider print-friendly button as alternative
- PDF should fit on standard letter/A4 paper

---

## Story Points Summary

| Story ID | Title | Points |
|----------|-------|--------|
| US-008 | Appointment Summary Generation | 5 |
| US-009 | Export Medical Record to PDF | 3 |
| **Total** | | **8** |

---

## Implementation Notes

These stories should be implemented after all Must-Have (P0) stories are complete. They enhance the user experience but the core workflow functions without them:

- **US-008** improves efficiency when reviewing patient history
- **US-009** enables external communication and physical records

Both stories are relatively independent and can be implemented in either order.
